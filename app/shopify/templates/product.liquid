{% comment %}

  Rich snippets (itemscope, itemtype, etc.) for products are a theme requirement,
  and allow search engines to easily understand what the content is.

  For more information on these Scheme.org tags, visit:
    - http://schema.org/docs/gs.html

{% endcomment %}

<div itemscope itemtype="http://schema.org/Product">

  <meta itemprop="url" content="{{ shop.url }}{{ product.url }}">
  <meta itemprop="image" content="{{ product.featured_image.src | img_url: 'grande' }}">

{% comment %}  {% include 'breadcrumb' %}{% endcomment %}

  <div class="grid--rev">

    






    <div class="grid-item large--three-quarters text-center">
      <div class="product-photo-container" id="productPhoto">
        {% assign featured_image = product.selected_or_first_available_variant.featured_image | default: product.featured_image %}
        <img src="{{ featured_image | img_url: '1024x1024' }}" alt="{{ featured_image.alt | escape }}" id="productPhotoImg">
      
        {% if collection %}
        <div id="projectnav">
          <p id="prev">
            {% if collection.previous_product %}
            <a href="{{collection.previous_product }}">
              <svg id="icon-arrow_small_left_idle" viewBox="0 0 1024 1024"><path class="path1" d="M486.4 738.743l51.2-51.2-149.943-138.971h380.343v-73.143h-380.343l149.943-138.971-51.2-51.2-248.686 226.743z" />
        <path class="path2" d="M0 512c0 281.6 230.4 512 512 512s512-230.4 512-512-230.4-512-512-512-512 230.4-512 512zM950.857 512c0 241.371-197.486 438.857-438.857 438.857s-438.857-197.486-438.857-438.857c0-241.371 197.486-438.857 438.857-438.857s438.857 197.486 438.857 438.857z" />
        </svg>
              <span>Previous item</span>
            </a>
            {% endif %}
          </p>
          
          <p id="back"><a href="/" style="display: inline; margin: 0 auto;">Back to shop</a></p>
      
          <p id="next">
            {% if collection.next_product %}
            <a style="float: right" href="{{collection.next_product }}">
              <span>Next item</span>
              <svg id="icon-arrow_small_right_idle" viewBox="0 0 1024 1024">
            <path class="path1" d="M537.6 285.257l-51.2 51.2 149.943 138.971h-380.343v73.143h380.343l-149.943 138.971 51.2 51.2 248.686-226.743z" />
            <path class="path2" d="M1024 512c0-281.6-230.4-512-512-512s-512 230.4-512 512 230.4 512 512 512 512-230.4 512-512zM73.143 512c0-241.371 197.486-438.857 438.857-438.857s438.857 197.486 438.857 438.857c0 241.371-197.486 438.857-438.857 438.857s-438.857-197.486-438.857-438.857z" />
          </svg>
            </a>
            {% endif %}
          </p>
        </div>
        {% else %}
        <div id="projectnav" style="text-align: center">
          <p id="back" style="float: none; width: auto;"><a href="/" style="display: inline; margin: 0 auto;">Back to shop</a></p>
        </div>
        {% endif %}

        {% comment %}
        Create thumbnails if we have more than one product image
        {% endcomment %}
        {% if product.images.size > 1 %}
          <ul class="product-photo-thumbs" id="productThumbs">

            {% for image in product.images %}
              <li class="grid-item">
                <a href="{{ image.src | img_url: '1024x1024' }}" class="product-photo-thumb">
                  <img src="{{ image.src | img_url: 'compact' }}" alt="{{ image.alt | escape }}">
                </a>
              </li>
            {% endfor %}
            
            <li class="grid-item share small--hide" style="overflow: hidden">
              <div class="fb-like" data-width="100px" data-href="{{ shop.url }}{{ product.url }}" data-layout="button" data-action="like" data-show-faces="false" data-share="false"></div>
            </li>

            <li class="grid-item share small--hide">
              <script type="text/javascript" src="//platform.twitter.com/widgets.js"></script>
              <a class="twitter-share-button" data-count="none" href="https://twitter.com/intent/tweet?url={{ shop.url }}{{ product.url }}&via=Shimell_Madden&text={{ product.title | escape }}">Tweet</a>
            </li>

            <li class="grid-item share small--hide">
              <a href="//pinterest.com/pin/create/button/?url={{ shop.url }}{{ product.url }}&media=http:{{ product.featured_image | product_img_url: '1024x1024' | split: '?' | first }}&description={{ product.title | strip_html | escape | replace: ' ', '%20' }}{% for t in product.tags %}{% assign tag = t | handle %}{{ '%20%23' | append: tag }}{% endfor %}" data-pin-do="buttonPin" data-pin-config="none"><img src="//assets.pinterest.com/images/pidgets/pinit_fg_en_rect_gray_20.png" /></a>
              <script async src="//assets.pinterest.com/js/pinit.js"></script>
            </li>

          </ul>
        {% endif %}
      </div>
    </div>

    <div class="grid-item large--one-quarter">

    {% comment %}   =====   TITLE   =====   {% endcomment %}
      <h1 itemprop="name">{{ product.title }}</h1>

    {% comment %}   =====   PRICE   =====   {% endcomment %}
      <span id="productPrice" class="h2{% if product.compare_at_price > product.price %} on-sale{% endif %}" itemprop="price">
        {{ product.price | money }}
      </span>

    {% comment %}   =====   DESCRIPTION   =====   {% endcomment %}
      <div class="product-description rte" itemprop="description">
        {{ product.description }}
      </div>

    {% comment %}
      ID addToCartForm is a selector for the ajaxify cart plugin
    {% endcomment %}
    <form action="/cart/add" method="post" enctype="multipart/form-data" id="addToCartForm">

    {% comment %}   =====   QUANTITY   =====   {% endcomment %}
      {% comment %}<label for="quantity" class="quantity-selector">Quantity</label>{% endcomment %}
          <input type="number" id="quantity" name="quantity" value="1" min="1" class="quantity-selector">


    {% comment %}   =====   VARIANTS   =====   {% endcomment %}

        {% comment %}
          Get first variant, or deep linked one
        {% endcomment %}
        {% assign variant = product.selected_or_first_available_variant %}

        

          {% comment %}
            Add product variants as a dropdown.
              - By default, each variant (or combination of variants) will display as its own <option>
              - To separate these into multiple steps, which we suggest, use option_selection.js (see below)

            You can leverage jQuery to add a callback on page load and each time the select element changes:
              - Include option_selection.js (as seen at the bottom of this file)
              - This allows you to use JavaScript anytime the variant dropdown changes
              - This also separates out your variant options (ie. size, color, etc.) to separate select elements

            For more information on products with multiple options, visit:
              - http://docs.shopify.com/support/your-website/themes/can-i-make-my-theme-use-products-with-multiple-options#update-product-liquid

          {% endcomment %}
          <select name="id" id="productSelect" class="product-variants">
            {% for variant in product.variants %}
                {% comment %}
                  Note: if you use option_selection.js, your <select> tag will be overwritten, meaning what you have inside <option> will not reflect what you coded below.
                {% endcomment %}
                <option {% if variant == product.selected_or_first_available_variant %} selected="selected" {% endif %} value="{{ variant.id }}">{{ variant.title }} - {{ variant.price | money_with_currency }}</option>
            {% endfor %}
          </select>
        {% comment %}   =====   END VARIANTS   =====   {% endcomment %}
          

          

        {% comment %}   =====   SUBMIT FORM   =====   {% endcomment %}
          <button type="submit" name="add" id="addToCart" class="btn">
            <span id="addToCartText"></span>
          </button>
        </form>
        
        <div class="grid" style="margin: 15px 0">
          <div class="extra-info" id="size-chart-trigger">Sizing</div>
          <div class="extra-info" id="shipping-info-trigger">Shipping</div>
        </div>
    </div>
  </div>
</div>


{% comment %}
  To take advantage of a callback on the select dropdown, add option_selection.js
  and customize the JS below as you need. This is only needed on pages where
  product variants are accessible, so doesn't need to live in theme.liquid.

  Currently, the code below does:
    - Hides your <select> tag from above
    - Breaks out the product variants into separate product options, if more than one exists
    - Generates a <select> tag for each product option

  Callback notes:
    - Keep the callback available to the global scope (window.selectCallback) so that advanced
      addons can override it.
      * E.g. multiple currencies http://docs.shopify.com/manual/configuration/store-customization/currencies-and-translations/currencies/how-to-toggle-between-two-currencies
{% endcomment %}

{{ 'option_selection.js' | shopify_asset_url | script_tag }}
<script>
  var selectCallback = function(variant, selector) {

    var $addToCart = $('#addToCart'),
        $productPrice = $('#productPrice'),
        $comparePrice = $('#comparePrice'),
        $quantityElements = $('.quantity-selector, label + .js-qty'),
        $addToCartText = $('#addToCartText'),
        $featuredImage = $('#productPhotoImg');

    if (variant) {

      // Update variant image, if one is set
      // Call timber.switchImage function in shop.js
      if (variant.featured_image) {
        var newImg = variant.featured_image,
            el = $featuredImage[0];
        Shopify.Image.switchImage(newImg, el, timber.switchImage);
      }

      // Select a valid variant if available
      if (variant.available) {
        // We have a valid product variant, so enable the submit button
        $addToCart.removeClass('disabled').prop('disabled', false);
        $addToCartText.text('Add to Cart');
        $quantityElements.show();
      } else {
        // Variant is sold out, disable the submit button
        $addToCart.addClass('disabled').prop('disabled', true);
        $addToCartText.text('Sold Out');
        $quantityElements.hide();
      }

      // Regardless of stock, update the product price
      $productPrice.html( Shopify.formatMoney(variant.price, "{{ shop.money_format }}") );

      // Also update and show the product's compare price if necessary
      if ( variant.compare_at_price > variant.price ) {
        $comparePrice
          .html('Compare at: ' + Shopify.formatMoney(variant.compare_at_price, "{{ shop.money_format }}"))
          .show();
      } else {
        $comparePrice.hide();
      }

    } else {
      // The variant doesn't exist, disable submit button.
      // This may be an error or notice that a specific variant is not available.
      // To only show available variants, implement linked product options:
      //   - http://docs.shopify.com/manual/configuration/store-customization/advanced-navigation/linked-product-options
      $addToCart.addClass('disabled').prop('disabled', true);
      $addToCartText.text('Unavailable');
      $quantityElements.hide();
    }
  };

  jQuery(function($) {
    new Shopify.OptionSelectors('productSelect', {
      product: {{ product | json }},
      onVariantSelected: selectCallback,
      enableHistoryState: true
    });

    // Add label if only one product option and it isn't 'Title'. Could be 'Size'.
    {% if product.options.size == 1 and product.options.first != 'Title' %}
      $('.selector-wrapper:eq(0)').prepend('<label>{{ product.options.first | escape }}</label>');
    {% endif %}

    // Hide selectors if we only have 1 variant and its title contains 'Default'.
    {% if product.variants.size == 1 and product.variants.first.title contains 'Default' %}
      $('.selector-wrapper').hide();
    {% endif %}
  });
</script>
