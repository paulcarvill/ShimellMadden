<div id="navigation">
  <header>
    <%= render "shared/nav" %>
  </header>
</div>

<div id="items">
  <section class="blog items">
    <article>
      <% @items.each_with_index do |item, index| %>

        <% if index == 0 %>
          <div class="item item-1">
          <%= image_tag item.image_style_one_url, height: '100%' %>
        <% elsif index == 1 %>
          <div class="item item-2">
          <%= image_tag item.image_style_two_url, height: '100%' %>
        <% elsif index == 2 %>
          <div class="item item-3">
          <%= image_tag item.image_style_three_url, height: '100%' %>
        <% elsif index == 3 %>
          <div class="item item-4">
          <%= image_tag item.image_style_one_url, height: '100%' %>
        <% elsif index == 4 %>
          <div class="item item-5">
          <%= image_tag item.image_style_one_url, height: '100%' %>
        <% elsif index == 5 %>
          <div class="item item-6">
          <%= image_tag item.image_style_one_url, height: '100%' %>
        <% end %>
            
        <% if item.collection then %>
          <%= link_to item.collection do %>
            <div class="item-overlay">
              <img class="down-triangle" src="/assets/down-triangle.svg" />
              <p>Collections</p>
              <%= item.collection.name %>
              <%= item.name %>
            </div>
          <% end %>
        <% elsif item.project then %>
          <%= link_to item.project do %>
            <div class="item-overlay">
              <img class="down-triangle" src="/assets/down-triangle.svg" />
              <p>Projects</p>
              <%= item.project.name %>
              <%= item.name %>
            </div>
          <% end %>
        <% end %>
        </div>
      <% end %>
    </article>
  </section>

  <%= will_paginate @items %>
  <%= render "shared/footer" %>

  <!-- Backbone shizzle -->
  <script type="text/javascript">
    // $(function() {
    //   window.router = new ShimellMadden.Routers.HomepageRouter({items: <%= @items.to_json.html_safe -%>});
    //   Backbone.history.start({pushState: true});
    // });

    SM = {};

    $('.nav-header').click(function(){
      if(SM.revealed) {
        $('nav').toggleClass('woop');
        SM.revealed = false
        $('.nav-header img').attr('src', '/assets/menu-closed.svg');
      } else {
        $('nav').toggleClass('woop');
        $('.nav-header img').attr('src', '/assets/menu-open.svg');
        SM.revealed = true
      }
    })
  </script>
  <!-- end Backbone shizzle -->
</div> <!-- end items -->

<%= render "shared/footer" %>